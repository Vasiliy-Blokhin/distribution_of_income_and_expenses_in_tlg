from source.settings.settings import (
    CATEGORY_INCOME_DICT,
    CATEGORY_EXPENSES_DICT
)


# –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
def empty_message():
    return 'üìù –ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π.'


def empty_output_message():
    return 'üìù –ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ –≤–∞—à –∑–∞–ø—Ä–æ—Å.'


def error_message():
    """ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–µ."""
    return (
        '‚ùóÔ∏è –ß–∏—Ç–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.'
    )


# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
def start_message(name):
    """ –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ."""
    hello_message = (
        f'üëã–ü—Ä–∏–≤–µ—Ç—Å–≤—É—é, {name}!'
    )
    return hello_message


def date_instr():
    return (
        'üìä –í–≤–æ–¥ –¥–∞—Ç—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:\n'
        '–¥–¥.–º–º.–≥–≥–≥–≥\n'
        '–ù–∞–ø—Ä–∏–º–µ—Ä:\n'
        'üëâ 22.12.2024'
    )


def year_instr():
    return (
        'üìä –í–≤–æ–¥ –≥–æ–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:\n'
        '–≥–≥–≥–≥\n'
        '–ù–∞–ø—Ä–∏–º–µ—Ä:\n'
        'üëâ 2024'
    )


def value_instr():
    return (
        'üìä –ï—Å–ª–∏ —Å—É–º–º—É –Ω–µ —Ü–µ–ª–∞—è, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–≤–æ–¥–∏—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É.\n'
        '–ù–∞–ø—Ä–∏–º–µ—Ä:\n'
        'üëâ 1234.56'
    )


def result_input_message(date, kind, category, value, user_id):
    return (
        "üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö:\n\n"
        f"üëâ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}\n"
        f"üëâ –î–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏: {date}\n"
        f"üëâ –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏: {kind}\n"
        f"üëâ –ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏: {category}\n"
        f"üëâ –°—É–º–º–∞: {value:.2f}\n"
    )


async def statistic_message(sorted_data, request_data):
    income_value = 0
    expenses_value = 0
    income_dict = CATEGORY_INCOME_DICT.copy()
    expenses_dict = CATEGORY_EXPENSES_DICT.copy()

    for el in sorted_data:
        if el['kind'] == '–î–æ—Ö–æ–¥—ã':
            income_value += el['value']
        elif el['kind'] == '–†–∞—Å—Ö–æ–¥—ã':
            expenses_value += el['value']

    if income_value == 0 and request_data['kind'] == '–î–æ—Ö–æ–¥—ã':
        return 'üî¥ –£ –≤–∞—Å –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ—Ö–æ–¥–æ–≤.'
    elif expenses_value == 0 and request_data['kind'] == '–†–∞—Å—Ö–æ–¥—ã':
        return 'üî¥ –£ –≤–∞—Å –Ω–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤.'
    elif income_value == 0 and expenses_value == 0:
        return empty_output_message()

    if request_data['kind'] == '–î–æ—Ö–æ–¥—ã':
        for el in sorted_data:
            for key, value in income_dict.items():
                if el['category'] == key:
                    value += el['value']
                income_dict[key] = value

        result = (
            f"üìä –î–æ—Ö–æ–¥—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ {request_data['date_start']}"
            f" - {request_data['date_end']}: "
            f"{income_value:.2f} —Ä—É–±.\n\n"
        )
        for key, value in income_dict.items():
            if value:
                result += (
                    f'üëâ {key} - {(value):.2f} —Ä—É–±.\n'
                )

        return result

    elif request_data['kind'] == '–†–∞—Å—Ö–æ–¥—ã':
        for el in sorted_data:
            for key, value in expenses_dict.items():
                if el['category'] == key:
                    value += el['value']
                expenses_dict[key] = value

        result = (
            f"üìä –†–∞—Å—Ö–æ–¥—ã –∑–∞ –ø–µ—Ä–∏–æ–¥ {request_data['date_start']}"
            f" - {request_data['date_end']}: "
            f'{expenses_value:.2f} —Ä—É–±.\n\n'
        )
        for key, value in expenses_dict.items():
            if value:
                result += (
                    f'üëâ {key} - {(value):.2f} —Ä—É–±.\n'
                )

        return result

    elif request_data['kind'] == '–í—Å–µ':
        return (
            f"üìä –ó–∞ –ø–µ—Ä–∏–æ–¥ {request_data['date_start']}"
            f" - {request_data['date_end']}:\n\n"
            f'üëâ –î–æ—Ö–æ–¥—ã - {(income_value):.2f} —Ä—É–±.;\n'
            f'üëâ –†–∞—Å—Ö–æ–¥—ã - {(expenses_value):.2f} —Ä—É–±.;\n'
            f'üëâ –†–∞–∑–Ω–∏—Ü–∞ - {(income_value - expenses_value):.2f} —Ä—É–±.;\n'
            f'üëâ –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ - {100 * (1 - expenses_value/income_value):.2f}%;\n'
        )


def data_card(id, kind, category, value, date):
    return (
        f'üëâ ID - {id}\n'
        f'üëâ –î–∞—Ç–∞ - {date}\n'
        f'üëâ –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ - {kind}\n'
        f'üëâ –ö–∞—Ç–µ–≥–æ—Ä–∏—è - {category}\n'
        f'üëâ –°—É–º–º–∞ - {value} .—Ä—É–±\n'
    )


def about_project():
    return (
        'üìä –û –ø—Ä–æ–µ–∫—Ç–µ:\n\n'
        '–í–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –±—é–¥–∂–µ—Ç–Ω–∞—è –∫–Ω–∏–∂–∫–∞\n'
        '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É—á–µ—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤! '
        '–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ '
        '–¥–µ–Ω–µ–∂–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ —Å–≤–æ–µ–≥–æ '
        '—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è.\n\n'
        '–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:\n'
        '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π:\n'
        '    ‚Ä¢ –ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤—Å–µ —Å–≤–æ–∏ –¥–æ—Ö–æ–¥—ã –∏ —Ä–∞—Å—Ö–æ–¥—ã\n'
        '    ‚Ä¢ –ö–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å –¥–∞—Ç–æ–π –∏ —Å—É–º–º–æ–π\n'
        '    ‚Ä¢ –¢–∞–∫ –∂–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º\n'
        '–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã:\n'
        '    ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥\n'
        '    ‚Ä¢ –û—Ç–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –ø–æ –¥–æ—Ö–æ–¥–∞–º –∏ —Ä–∞—Å—Ö–æ–¥–∞–º\n'
        '    ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –∏ –≥–æ–¥\n'
        '    ‚Ä¢ –ê–Ω–∞–ª–∏–∑ –∑–∞ –ª—é–±–æ–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥\n'
        '    ‚Ä¢ –ì–æ–¥–æ–≤–∞—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å\n'
        '–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:\n'
        '    ‚Ä¢ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –æ—Å–≤–æ–µ–Ω–∏–∏\n'
        '    ‚Ä¢ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏\n'
        '    ‚Ä¢ –ù–∞–≥–ª—è–¥–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞\n'
        '    ‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±—é–¥–∂–µ—Ç–∞\n'
        '    ‚Ä¢ –í—ã–≤–æ–¥ —Å—Ä–∞–∑—É –≤ —ç–∫—Å–µ–ª–µ\n'
        '    ‚Ä¢ –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ä–∞—Å—Ö–æ–¥–∞–º–∏\n\n'
        '–ù–∞—á–Ω–∏—Ç–µ –≤–µ—Å—Ç–∏ —É—á–µ—Ç —Å–≤–æ–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!\n'
    )


def about_author():
    return (
        'üìä –û —Å–µ–±–µ:\n\n'
        'üëã –ü—Ä–∏–≤–µ—Ç! –Ø –æ–±—ã—á–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä —Å –Ω–µ–æ–±—ã—á–Ω—ã–º —Ö–æ–±–±–∏ - –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è —è '
        '—Å–æ–∑–¥–∞—é –ø–æ–ª–µ–∑–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã.\n\n'

        'üõ† –ü–æ—á–µ–º—É —è —ç—Ç–æ –¥–µ–ª–∞—é?\n'
        '    ‚Ä¢ –õ—é–±–ª—é —Ä–µ—à–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∑–∞–¥–∞—á–∏\n'
        '    ‚Ä¢ –•–æ—á—É –¥–µ–ª–∞—Ç—å –∂–∏–∑–Ω—å –ª—é–¥–µ–π –ø—Ä–æ—â–µ\n'
        '    ‚Ä¢ –ù–∞—Ö–æ–∂—É —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤\n\n'

        'üí° –≠—Ç–æ—Ç —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —É—á–µ—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ - –æ–¥–∏–Ω –∏–∑ –º–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, '
        '–∫–æ—Ç–æ—Ä—ã–π —Ä–æ–¥–∏–ª—Å—è –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∂–µ–ª–∞–Ω–∏—è –ª—É—á—à–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–∞—Å—Ö–æ–¥—ã.'
        '\n\n'

        'üéØ –ú–æ–∏ —Ü–µ–ª–∏:\n'
        '    ‚Ä¢ –°–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –∏ —É–¥–æ–±–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è\n'
        '    ‚Ä¢ –î–µ–ª–∏—Ç—å—Å—è –ø–æ–ª–µ–∑–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏\n'
        '    ‚Ä¢ –°–ª—É—à–∞—Ç—å –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ –∏ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã\n\n'

        'üì¢ –•–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –¥–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å? '
        '–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É ‚Äú–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—É‚Äù - –≤–∞—à–∏ –º—ã—Å–ª–∏ –º–æ–≥—É—Ç'
        ' —Å—Ç–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –ø–æ–ª–µ–∑–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º!'
    )


def support_project():
    return (
        'üéØ –í–∞—à–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–∞—Å—Ç –º–æ—Ç–∏–≤–∞—Ü–∏—é –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã.\n'
        'üì¢ –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ –∏ –∏–¥–µ—è–º–∏: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è" - '
        '‚Äú–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä—É‚Äù'
    )


def support_TON():
    return 'UQD68V3nEXGjaoAK5B9ANCzQdgKhue9e-hXnXlerYUon1Dix'


def support_BTC():
    return '1EZRKGoRJB2AmQnHQKLeD857juYmt2Rrbv'


def support_USDT():
    return 'TLChT93rWmr3gRmJT5ffHRhH1Sy7881D1z'


def send_message_choose():
    return (
        'üìù –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:'
    )


def send_message_author(user_id, username, name, text):
    return (
        f'üëâ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_id}\n'
        f'üëâ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {username}\n'
        f'üëâ –ü–æ–ª–Ω–æ–µ –∏–º—è: {name}\n'
        f'üëâ –¢–µ–∫—Å—Ç: "{text}"'
    )
